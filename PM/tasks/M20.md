# M20 — High-level Layout API

**Branch:** `feature/m20-layout-api`
**Status:** DONE (PR #25)
**Depends on:** nothing (nowe pliki, izolowane)

## Overview
Claude teraz musi podawać x,y,w,h każdego elementu. Cel: Claude opisuje sekcje semantycznie (`sections: [navbar, hero, card_grid_3]`), tool sam pozycjonuje elementy. 10x szybsze tworzenie mockupów.

## JSON Schema (nowy tool)

```json
{
  "project_id": "proj_xxx",
  "name": "Landing Page",
  "style": "dark-minimal",
  "sections": [
    { "type": "navbar", "props": { "title": "MyApp" } },
    { "type": "hero_with_cta", "props": { "heading": "Build faster", "cta_label": "Get Started" } },
    { "type": "card_grid_3", "props": { "cards": [{ "title": "Fast" }, { "title": "Secure" }] } },
    { "type": "footer", "props": { "links": ["About", "Contact"] } }
  ]
}
```

## Tasks

| # | Task | Pliki | Status |
|---|------|-------|--------|
| T1 | Section registry + 10 sekcji | `src/renderer/sections/index.js` (NEW), `src/renderer/sections/*.js` (NEW) | PLANNED |
| T2 | Layout composer | `src/renderer/layout-composer.js` (NEW) | PLANNED |
| T3 | MCP tool `mockup_create_screen_layout` | `src/mcp/tools/layout-tools.js` (NEW) | PLANNED |
| T4 | MCP prompt `layout_guide` | `src/mcp/prompts.js` | PLANNED |
| T5 | Tool registry update | `src/mcp/tools/index.js` | PLANNED |
| T6 | Section unit tests | `tests/renderer/sections/*.test.js` (NEW) | PLANNED |
| T7 | Integration tests | `tests/mcp/layout-tools.test.js` (NEW) | PLANNED |

## 10 sekcji v1
`navbar`, `hero_with_cta`, `login_form`, `card_grid_3`, `card_grid_2`, `settings_panel`, `profile_header`, `search_bar`, `feature_list`, `footer`

## Architecture
Section = pure function `generate(screenWidth, sectionY, props) -> { elements[], height }`.
Composer stackuje sekcje vertical (top-down). Sekcja != template (sekcja to fragment, template to cały ekran).
