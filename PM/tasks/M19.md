# M19 — Layers Panel

**Branch:** `feature/m19-layers`
**Status:** PLANNED
**Depends on:** nothing (czysto frontend)

## Overview
Wizualny panel warstw w edytorze. Must-have do pozycjonowania elementów (tło pod tekstem itp.). Lista elementów wg z_index, drag-to-reorder, synchronizacja z canvasem.

## Tasks

| # | Task | Pliki | Status |
|---|------|-------|--------|
| T1 | Layers panel module | `src/preview/editor/layers.js` (NEW) | PLANNED |
| T2 | Drag-to-reorder z_index | `src/preview/editor/layers.js` | PLANNED |
| T3 | Bring to front / Send to back + skróty `]`/`[` | `src/preview/editor/layers.js` | PLANNED |
| T4 | Integration z editor.js (nowy tab w sidebarze) | `src/preview/editor/editor.js` | PLANNED |
| T5 | Dwukierunkowa sync canvas↔layers | `src/preview/editor/layers.js`, `selection.js` | PLANNED |
| T6 | i18n keys | `src/preview/i18n/en.json`, `pl.json` | PLANNED |
| T7 | Testy | `tests/preview/layers.test.js` (NEW) | PLANNED |

## Key Constraints
- Brak nowych MCP tools — reorder przez istniejący PATCH `/api/screens/:pid/:sid/elements/:eid`
- Elementy z z_index >= 10 (pinned) widoczne z ikoną, chronione przed reorderem poniżej progu
- Layers jako nowy tab w left sidebarze (obok project tree)
